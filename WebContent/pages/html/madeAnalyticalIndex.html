
<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title></title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--设置视口的宽度(值为设备的理想宽度)，页面初始缩放值<理想宽度/可见宽度>-->
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/layui.css">
<link rel="stylesheet" href="css/admin.css">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/addStyle.css">
<link rel="stylesheet" href="css/modules/layer/default/layer.css">
<link rel="stylesheet" href="css/modules/laydate/default/laydate.css">
<link rel="stylesheet" href="font-size/iconfont.css">
<link rel="stylesheet" href="css/bootstrap-theme.min.css">
<link rel="stylesheet" href="css/scrollbar.css">
<title></title>
<style>
body,html{
    background: #292b37;
}
</style>
</head>

<body class="bgBackColor">

	<div class="scroll-1">

		<div class="layui-row">

			<div class="layui-col-md12 rightConSpace">

				<div class="titleRightCon">

					<span class="leftTextWhite">定制分析</span>

				</div>

				<div class="titleRightCon  marginTop20">

					<div class="layui-row">
						<div class="layui-col-md2 ruleBtn" align="center">

							<ul class="nav nav-pills">
								<li class="active"><a id="tab_1" href="#right1" data-toggle="pill"><i
										class="icon iconfont" style="font-size: 22px;">&#xe61d;</i></a></li>
								<li><a id="tab_2" href="#right2" data-toggle="pill"><i
										class="icon iconfont" style="font-size: 24px;">&#xe773;</i></a></li>
								<li><a id="tab_3" href="#right3" data-toggle="pill"><i
										class="icon iconfont" style="font-size: 24px;">&#xe608;</i></a></li>
								<li><a id="tab_4" href="#right4" data-toggle="pill"><i
										class="icon iconfont" style="font-size: 24px;">&#xe66f;</i></a></li>

							</ul>
						</div>

						<div class="layui-col-md10">
							<div class="titleRightCon">

								<span class="rightTextGreen">
									<button class="layui-btn layui-btn-sm"
										style="margin-top: -5px;">
										<i class="icon iconfont">&#xe658;</i>&nbsp;导出CSV文件
									</button> <a href="HistoryAnalyticalIndex.html">
										<button class="layui-btn layui-btn-sm"
											style="margin-top: -5px;">
											<i class="icon iconfont">&#xe608;</i></i>&nbsp;历史分析
										</button>
								</a>
								</span>

							</div>
						</div>

					</div>

				</div>

				<div class="tab-content">
					<div class="tab-pane fade in active" id="right1">
						<div class="layui-row">

							<div class="layui-col-md2">
								<table class="leftRuleBtn">
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">选择资源</div>
												<div class="layui-input-inline">

													<select name="modules" lay-verify="required" lay-search=""
														class="selectWidth" id="selectTable">
														<option value="">违法犯罪警情</option>
														<option value="1">黄赌毒警情</option>
													</select>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">添加维度</div>
												<div class="layui-input-inline">
													<select name="modules" lay-verify="required" lay-search=""
														class="selectWidth" id="column">
														<option value="1">派出所</option>
														<option value="2">警情类别</option>
													</select>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="textWhite">指标</div>
											<div class="addDimension" id="addNumber1">
												<i class="icon iconfont">&#xe506;</i>&nbsp;&nbsp;&nbsp;添加指标
											</div>
											<div id="zhibiaoValue">
												<!-- <div class="divideLine">
														<div class="chooseData">
															<span class="leftTextName">盗窃</span>
															<div class="rightIconDate" title="筛选" id="chooseDataCon1"><i class="icon iconfont">&#xe7ff;</i></div>
														</div>
														<div id="filterValue">
															<div class="chooseTime">
															涉案金额>5000
															</div>
															<div class="chooseTime">
																2018/07/01~2018/07/30
															</div>
															<div class="chooseTime">
																同比
															</div>
															<div class="chooseTime">
																同比率
															</div>
														</div>
														
													</div>
													 <div class="divideLine">
														<div class="chooseData">
															<span class="leftTextName">抢劫</span>
															<span class="rightIconDate" title="筛选" id=""><i class="icon iconfont">&#xe7ff;</i></span>
														</div>
														<div class="chooseTime">
															2018/07/30~2018/08/05
														</div>
														
													</div> -->
											</div>
										</td>
									</tr>
									<tr>
										<td align="center">
											<button onclick="startAnalysis()"
												class="layui-btn layui-btn-sm">开始分析</button>
											<button class="layui-btn layui-btn-sm" id="saveTable" onclick="saveTableConfirm()">保存</button>
										</td>
									</tr>
								</table>
							</div>

							<div class="layui-col-md10">
								<div class="tableConTwo tableSpace">

									<table>

										<thead id="tableHead">
											
										</thead>

										<tbody id="tableValue">
											

										</tbody>

									</table>


								</div>

							</div>
						</div>
					</div>

					<div class="tab-pane fade in" id="right2">
						<div class="layui-row">

							<div class="layui-col-md2">
								<table class="leftRuleBtn">
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">选择资源</div>
												<div class="layui-input-inline">
													<select name="modules" lay-verify="required" lay-search=""
														class="selectWidth" id="qxtTable">
														<option value="">违法犯罪警情</option>
														<option value="1">黄赌毒警情</option>
													</select>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">X轴(维度)</div>
												<div class="layui-input-inline">
													<select name="modules" lay-verify="required" lay-search=""
														class="selectWidth" id="qxtColumn">
														<option value="1">报警时间</option>
														<option value="2">案发开始时间</option>
													</select>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="textWhite">指标</div>
											<div class="addDimension" id="addNumber2">
												<i class="icon iconfont">&#xe506;</i>&nbsp;&nbsp;&nbsp;添加指标
											</div>
											<div id="qxtZhiBiao">
												
											</div>

										</td>
									</tr>
									<tr>
										<td align="center">
											<button class="layui-btn layui-btn-sm" onclick="qxtStartAnalysis()">开始分析</button>
											<button class="layui-btn layui-btn-sm" id="saveLine" onclick="saveLineConfirm()">保存</button>
										</td>
									</tr>
								</table>
							</div>

							<div class="layui-col-md10">
								<div class="tableConTwo tableSpace">

									<div id="lineEchart"
										style="height: 400px; width: 100%; padding: 12px;"></div>

								</div>

							</div>
						</div>

					</div>

					<div class="tab-pane fade in" id="right3">
						<div class="layui-row">

							<div class="layui-col-md2">
								<table class="leftRuleBtn">
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">选择资源</div>
												<div class="layui-input-inline">
													<select name="modules" lay-verify="required" lay-search=""
														class="selectWidth" id="bztTable">
														<option value="">违法犯罪警情</option>
														<option value="1">黄赌毒警情</option>
													</select>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">添加维度</div>
												<div class="layui-input-inline">
													<select name="modules" lay-verify="required" lay-search=""
														class="selectWidth" id="btzColumn">

														<option value="1">类别</option>
														<option value="2">派出所</option>
													</select>
												</div>
											</div>
										</td>
									</tr>

									<tr>
										<td align="center">
											<button onclick="bztStartAnalysis()" class="layui-btn layui-btn-sm">开始分析</button>
											<button class="layui-btn layui-btn-sm" id="savePie" onclick="savePieConfirm()">保存</button>
										</td>
									</tr>
								</table>
							</div>

							<div class="layui-col-md10">
								<div class="tableConTwo tableSpace">

									<div id="pieEchart"
										style="height: 450px; width: 100%; padding: 12px;"></div>

								</div>

							</div>
						</div>

					</div>

					<div class="tab-pane fade in" id="right4">
						<div class="layui-row">

							<div class="layui-col-md2">
								<table class="leftRuleBtn">
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">选择资源</div>
												<div class="layui-input-inline">
													<select name="modules" lay-verify="required"
														class="selectWidth" id="zztTable">
														<option value="">资源</option>
														<option value="1">资源1</option>
														<option value="2">资源2</option>
														<option value="3">资源3</option>
													</select>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="layui-inline">
												<div class="textWhite">添加维度</div>
												<div class="layui-input-inline">
													<select name="modules" lay-verify="required"
														class="selectWidth" id="zztColumn">

														<option value="1">维度1</option>
														<option value="2">维度2</option>
														<option value="3">维度3</option>
													</select>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="textWhite">指标</div>
											<div class="addDimension" id="addNumber3">
												<i class="icon iconfont">&#xe506;</i>&nbsp;&nbsp;&nbsp;添加指标
											</div>
											<div id="zztZhiBiao">
												
											</div>
										</td>
									</tr>
									<tr>
										<td align="center">
											<button onclick="zztStartAnalysis()" class="layui-btn layui-btn-sm">开始分析</button>
											<button class="layui-btn layui-btn-sm" id="saveBar" onclick="saveBarConfirm()">保存</button>
										</td>
									</tr>
								</table>
							</div>

							<div class="layui-col-md10">

								<div class="tableConTwo tableSpace">

									<div id="barEchart"
										style="height: 400px; width: 100%; padding: 12px;"></div>
								</div>
							</div>
						</div>

					</div>

				</div>
			</div>
		</div>
	</div>


	<script src="layui.js"></script>
	<script src="lay/modules/tree.js"></script>
	<script src="lay/modules/laydate.js"></script>
	<script src="js/jquery-3.1.1.js"></script>
	<script src="lay/modules/layer.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<!-- 最新的echarts核心 JavaScript 文件 -->
	<script src="js/echarts.js"></script>
	<script src="js/madeEcharts.js" type="text/javascript" charset="utf-8"></script>
	<script src="lay/modules/code.js"></script>
	<script src="lay/modules/carousel.js"></script>
	<script src="lay/modules/element.js"></script>
	<script src="lay/modules/jquery.js"></script>
	<script src="lay/modules/form.js"></script>
	<script src="lay/modules/layedit.js"></script>
	<script src="lay/modules/laypage.js"></script>
	<script src="lay/modules/laytpl.js"></script>
	<script src="lay/modules/mobile.js"></script>
	<script src="lay/modules/rate.js"></script>
	<script src="lay/modules/table.js"></script>
	<script src="lay/modules/util.js"></script>
	<script src="lay/modules/upload.js"></script>
	<script src="lay/modules/scrollbar.min.js"></script>
	<script src="js/analysis/makeAnalysis.js"></script>
	<script type="text/javascript">
		$('#addNumber1').on("click", function() {
			layer.open({
				id : 1,
				icon : 1,
				type : 2,
				title : '添加指标',
				skin : 'demo-class',
				area : [ '360px', '500px' ],
				shade : 0.6,
				content : [ 'addTree.html', 'no' ],
				btn : [ '确定', '取消' ],
				btn1 : function(index, layero) {
					var iframeWin = window[layero.find('iframe')[0]['name']];
					var zbm = iframeWin.getZbm();
					console.log("zbm:" + zbm);
					addZhibiao(zbm);
					layer.close(index);
				},
				btn2 : function(index, layero) {
					layer.close(index);
				}

			});
		});
	</script>
	<script type="text/javascript">
		$('#addNumber2').on("click", function() {
			layer.open({
				id : 1,
				icon : 1,
				type : 2,
				title : '添加指标',
				skin : 'layer-ext-moon',
				area : [ '360px', '500px' ],
				shade : 0.6,
				content : [ 'addTree.html', 'no' ],
				//scrollbar: false,
				btn : [ '确定', '取消' ],
				btn1 : function(index, layero) {
					var iframeWin = window[layero.find('iframe')[0]['name']];
					var zbm = iframeWin.getZbm();
					console.log("zbm:" + zbm);
					addQxtZhibiao(zbm);
					layer.close(index);
				},
				btn2 : function(index, layero) {
					layer.close(index);
				}
			});
		});
	</script>
	<script type="text/javascript">
		$('#addNumber3').on("click", function() {
			layer.open({
				id : 1,
				icon : 1,
				type : 2,
				title : '添加指标',
				skin : 'layer-ext-moon',
				area : [ '360px', '500px' ],
				shade : 0.6,
				content : 'addTree.html',
				btn : [ '确定', '取消' ],
				btn1 : function(index, layero) {
					var iframeWin = window[layero.find('iframe')[0]['name']];
					var zbm = iframeWin.getZbm();
					console.log("zbm:" + zbm);
					addZztZhibiao(zbm);
					layer.close(index);
				},
				btn2 : function(index, layero) {
					layer.close(index);
				}

			});
		});
	</script>

	<script type="text/javascript">
		/**$('.chooseDataCon').on("click", function(){

		 layer.open({
		 id:1,
		 icon: 1,       
		 type: 2,
		 title:'筛选条件',
		 skin: 'layer-ext-moon',
		 area: ['950px','600px'],
		 shade: 0.6,
		 content: 'chooseData.html',
		 btn:['确定','取消'],
		 btn1: function (index,layero) {
		 },
		 btn2:function (index,layero) {
		 layer.close(index);
		 }

		 });
		 });**/
	</script>

	<script type="text/javascript">
		$('#chooseDataCon2').on("click", function() {

			layer.open({
				id : 1,
				icon : 1,
				type : 2,
				title : '筛选条件',
				skin : 'layer-ext-moon',
				area : [ '950px', '600px' ],
				shade : 0.6,
				content : 'chooseData.html',
				btn : [ '确定', '取消' ],
				btn1 : function(index, layero) {
				},
				btn2 : function(index, layero) {
					layer.close(index);
				}

			});
		});
	</script>

	<script type="text/javascript">
		$('#chooseDataCon3').on("click", function() {

			layer.open({
				id : 1,
				icon : 1,
				type : 2,
				title : '筛选条件',
				skin : 'layer-ext-moon',
				area : [ '950px', '600px' ],
				shade : 0.6,
				content : 'chooseData.html',
				btn : [ '确定', '取消' ],
				btn1 : function(index, layero) {
				},
				btn2 : function(index, layero) {
					layer.close(index);
				}

			});
		});
	</script>

</body>

</html>